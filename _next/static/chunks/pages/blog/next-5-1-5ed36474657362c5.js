(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4353],{12102:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/next-5-1",function(){return c(3579)}])},90603:function(a,b,c){"use strict";var d=c(24246);c(27378);var e=c(38579),f=c(54616),g=c.n(f);function h(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}b.Z=function(a){var b=a.caption,c=a.margin,f=a.captionSpacing,i=void 0===f?null:f,j=a.shadow,k=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,["caption","margin","captionSpacing","shadow"]);return(0,d.jsxs)("figure",{className:g().figure,style:{margin:"".concat(void 0===c?40:c,"px 0")},children:[(0,d.jsx)(e.default,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){h(a,b,c[b])})}return a}({},k,{className:void 0!==j&&j?g().shadow:""})),b&&(0,d.jsx)("figcaption",{className:g().figcaption,style:i?{marginTop:i}:{},children:b})]})}},79646:function(a,b,c){"use strict";var d=c(24246),e=c(79892),f=c.n(e),g=c(36279);function h(a){var b=a.children;return(0,d.jsxs)("p",{className:"jsx-caf08a00e2d0f42",children:[b,(0,d.jsx)(f(),{id:"caf08a00e2d0f42",children:"p.jsx-caf08a00e2d0f42{color:#999;\nfont-size:12px;\nmargin:-20px 0 40px 0;\ntext-align:center}"})]})}h.Code=function(a){var b=a.children;return(0,d.jsxs)("code",{className:f().dynamic([["22303139b462175e",[g.Jb]]]),children:[b,(0,d.jsx)(f(),{id:"22303139b462175e",dynamic:[g.Jb],children:"code.__jsx-style-dynamic-selector{color:#666;\nfont-family:".concat(g.Jb,"}\ncode.__jsx-style-dynamic-selector::before{content:'\\`'}\ncode.__jsx-style-dynamic-selector::after{content:'\\`'}")})]})},b.Z=h},3579:function(a,b,c){"use strict";c.r(b),c.d(b,{meta:function(){return o},"default":function(){return q}});var d=c(24246),e=c(27378),f=c(65977),g=c(74843),h=c(79646),i=c(90603);c(80632);var j=c(85329);function k(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function n(a,b){return(n=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var o={title:"Next.js 5.1: Faster Page Resolution, Environment Config & More",description:"Next.js 5.1 features support for environment configuration, phases, source maps, and new Next.js plugins.",date:"2018-03-26T17:29:45.995Z",authors:[{name:"Tim Neutkens",avatar:"/static/team/tim.jpg",twitter:"timneutkens"},{name:"Arunoda Susiripala",avatar:"/static/team/arunoda.jpg",twitter:"arunoda"}],url:"https://nextjs.org/blog/next-5-1",link:"/blog/next-5-1",twitterCard:"https://assets.vercel.com/image/upload/front/blog/next5-1/twitter-card.png"},p={meta:o},q=function(a){"use strict";!function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&n(a,b)}(t,a);var b,c,e,q,r,s=(q=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,b,c,d,e=m(q);if(r){var f=m(this).constructor;d=Reflect.construct(e,arguments,f)}else d=e.apply(this,arguments);return b=this,(c=d)&&("object"==((a=c)&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof c)?c:(function(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a})(b)});function t(a){var b;return!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,t),(b=s.call(this,a)).layout=(0,j.Z)(function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},o)),b}return b=t,c=[{key:"render",value:function(){var a=this.props,b=a.components,c=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,["components"]);return(0,d.jsxs)(f.XJ,{name:"wrapper",Layout:this.layout,layoutProps:Object.assign({},p,c),components:b,children:[(0,d.jsx)(f.XJ,{name:"p",components:b,children:"We are happy to introduce Next.js 5.1, which features support for environment configuration, phases, source maps, and new Next.js plugins."}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Major performance improvements are introduced: resolving pages is ",(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"p",children:"102x"})," faster, and error pages are loaded more efficiently."]}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"To upgrade or install, run:"}),(0,d.jsx)(g.it,{prefix:!0,children:"npm i next@latest react@latest react-dom@latest"}),(0,d.jsxs)(h.Z,{children:["In addition to bumping Next.js, we upgrade the peer dependencies"," ",(0,d.jsx)(h.Z.Code,{children:"react"})," and ",(0,d.jsx)(h.Z.Code,{children:"react-dom"})]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Be sure to upgrade ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/vercel/next-plugins"},children:"next-plugins"})," like ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"@zeit/next-css"}),", ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"@zeit/next-sass"}),", ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"@zeit/next-less"})," or ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"@zeit/next-typescript"})," as well."]}),(0,d.jsx)(f.XJ,{name:"h2",components:b,children:"Faster page resolution"}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Thanks to the architectural changes in Next.js 5.0, we were able to ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/vercel/next.js/pull/3776"},children:"simplify the logic"})," that resolves pages based on url path. These changes were based on ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/vercel/next.js/issues/3682"},children:"research"})," from ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/oliviertassinari"},children:"@oliviertassinari"}),".\nPreviously resolving a page took an average of ",(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"p",children:"2.347ms"}),". With the new logic resolving the same page takes on average ",(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"p",children:"0.023ms"}),". That's a ",(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"p",children:"102x"})," speedup for one of the most commonly invoked methods in Next.js applications."]}),(0,d.jsx)(i.Z,{src:"https://assets.vercel.com/image/upload/front/blog/next5-1/faster-resolution.png",width:702.4,height:415.2,caption:"Page resolution shown per request. Left is Next.js 5.0, right is Next.js 5.1"}),(0,d.jsx)(f.XJ,{name:"h2",components:b,children:"Environment configuration"}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Typical Node.js environments often depend on passing environment variables to the application, for example: ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"API_URL=https://api.vercel.com node index.js"})," and then you can use ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"API_URL"})," anywhere in your application using ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"process.env.API_URL"}),"."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["With universal rendering ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"process.env"})," is not available on the client side. So with Next 5.1 we're introducing a new feature: ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"publicRuntimeConfig"})," and ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"serverRuntimeConfig"}),". These can be set in ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"next.config.js"})," and will then be available using the ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"next/config"})," module."]}),(0,d.jsx)(f.XJ,{name:"pre",components:b,props:{className:"language-js"},children:(0,d.jsxs)(f.XJ,{name:"code",components:b,parentName:"pre",props:{className:"language-js"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token comment"},children:"// next.config.js"}),"\nmodule",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"."}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token property-access"},children:"exports"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token operator"},children:"="})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n  serverRuntimeConfig",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:":"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n    ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token comment"},children:"// Will only be available on the server side"}),"\n    mySecret",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:":"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token string"},children:"'secret'"}),"\n  ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:","}),"\n  publicRuntimeConfig",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:":"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n    ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token comment"},children:"// Will be available on both server and client"}),"\n    staticFolder",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:":"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token string"},children:"'/static'"}),"\n  ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n"]})}),(0,d.jsxs)(h.Z,{children:["Both ",(0,d.jsx)(h.Z.Code,{children:"serverRuntimeConfig"})," and"," ",(0,d.jsx)(h.Z.Code,{children:"publicRuntimeConfig"})," are defined in"," ",(0,d.jsx)(h.Z.Code,{children:"next.config.js"})]}),(0,d.jsx)(f.XJ,{name:"pre",components:b,props:{className:"language-jsx"},children:(0,d.jsxs)(f.XJ,{name:"code",components:b,parentName:"pre",props:{className:"language-jsx"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token comment"},children:"// pages/index.js"}),"\n",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword module"},children:"import"})," getConfig ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword module"},children:"from"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token string"},children:"'next/config'"}),"\n",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"const"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"})," serverRuntimeConfig",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:","})," publicRuntimeConfig ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token operator"},children:"="})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token function"},children:"getConfig"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"("}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:")"}),"\n\n",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token console class-name"},children:"console"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"."}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token method function property-access"},children:"log"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"("}),"serverRuntimeConfig",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"."}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token property-access"},children:"mySecret"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:")"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token comment"},children:"// Will only be available on the server side"}),"\n",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token console class-name"},children:"console"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"."}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token method function property-access"},children:"log"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"("}),"publicRuntimeConfig",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"."}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token property-access"},children:"staticFolder"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:")"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token comment"},children:"// Will be available on both server and client"}),"\n\n",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword module"},children:"export"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword module"},children:"default"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"function"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token function"},children:(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token maybe-class-name"},children:"Index"})}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"("}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:")"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n  ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"return"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"("}),"\n    ",(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token tag"},children:[(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token tag"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"<"}),"div"]}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:">"})]}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token plain-text"},children:"\n      "}),(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token tag"},children:[(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token tag"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"<"}),"img"]})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token attr-name"},children:"src"}),(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token script language-javascript"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token script-punctuation punctuation"},children:"="}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"{"}),(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token template-string"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token template-punctuation string"},children:"`"}),(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token interpolation"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token interpolation-punctuation punctuation"},children:"${"}),"publicRuntimeConfig",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"."}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token property-access"},children:"staticFolder"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token interpolation-punctuation punctuation"},children:"}"})]}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token string"},children:"/logo.png"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token template-punctuation string"},children:"`"})]}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"}"})]})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"/>"})]}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token plain-text"},children:"\n    "}),(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token tag"},children:[(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token tag"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"</"}),"div"]}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:">"})]}),"\n  ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:")"}),"\n",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n"]})}),(0,d.jsxs)(h.Z,{children:["The ",(0,d.jsx)(h.Z.Code,{children:"getConfig"})," method from the"," ",(0,d.jsx)(h.Z.Code,{children:"next/config"})," module is used to get configuration values"]}),(0,d.jsx)(f.XJ,{name:"h2",components:b,children:"Improved Error Handling"}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Previously Next.js had a special error handling mechanism for detecting server errors when loading page bundles. A page bundle is the javascript file that is loaded on the client side to load the page, for example ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"/_next/-/page/index.js"}),"."]}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"If there were an error, like a build ID mismatch, the page bundle would still be served with a 200 HTTP status, but the contents would be a JSON representation of an error generated by the Next.js server. The reason for this is that there was client side error handling that depended on more than just the page being a 404. This solution worked really well, until you try to upload assets to a static file host or CDN that doesn't support a fallback."}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["With Next.js 5.1 we've ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/vercel/next.js/pull/3849"},children:"completely refactored"})," the error handling logic, when a page bundle returns a 404 HTTP status the router will automatically detect it and reload the page, to make sure navigation between ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/vercel/next.js#multi-zones"},children:"multi-zones"})," is possible."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["In rewriting this logic, we ",(0,d.jsxs)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/vercel/next.js/blob/canary/errors/no-on-app-updated-hook.md"},children:["removed the ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"a",children:"Router.onAppUpdated"})," hook"]}),"; which was mainly used to trigger a page reload. Now the page will be automatically reloaded"]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["In addition to this, we've added a new set of ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/vercel/next.js/pull/3895"},children:"integration tests"})," on error recovery in the development mode, to avoid regressions on error recovery in future releases."]}),(0,d.jsx)(f.XJ,{name:"h2",components:b,children:"Phases / config function"}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Some ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/vercel/next-plugins"},children:"next-plugins"})," like ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/vercel/next-plugins/tree/master/packages/next-css"},children:(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"a",children:"@zeit/next-css"})})," are only required when Next.js is in development mode or when running ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"next build"}),"."]}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"You can now export a function that returns the configuration object instead of immediately exporting the object."}),(0,d.jsx)(f.XJ,{name:"pre",components:b,props:{className:"language-js"},children:(0,d.jsxs)(f.XJ,{name:"code",components:b,parentName:"pre",props:{className:"language-js"},children:["module",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"."}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token method-variable function-variable method function property-access"},children:"exports"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token operator"},children:"="})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"("}),(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token parameter"},children:["phase",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:","})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"{"})," defaultConfig ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"}"})]}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:")"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token arrow operator"},children:"=>"})," config\n"]})}),(0,d.jsxs)(h.Z,{children:[(0,d.jsx)(h.Z.Code,{children:"next.config.js"})," exporting a function that returns the user configuration"]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Exporting a function will give you access to the ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"phase"})," in which Next.js is running, for example development, production, building, export. This allows plugins to be loaded only when needed, but also gives access to the default configuration."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["We've introduced a new module called ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/vercel/next.js/blob/canary/lib/constants.js"},children:(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"a",children:"next/constants"})})," holding commonly used constants, including phases."]}),(0,d.jsx)(f.XJ,{name:"pre",components:b,props:{className:"language-js"},children:(0,d.jsxs)(f.XJ,{name:"code",components:b,parentName:"pre",props:{className:"language-js"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"const"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token constant"},children:"PHASE_DEVELOPMENT_SERVER"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token operator"},children:"="})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token function"},children:"require"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"("}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token string"},children:"'next/constants'"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:")"}),"\nmodule",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"."}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token property-access"},children:"exports"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token operator"},children:"="})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"("}),"phase",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:","})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"defaultConfig",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:")"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n  ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"if"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"("}),"phase ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token operator"},children:"==="})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token constant"},children:"PHASE_DEVELOPMENT_SERVER"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:")"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n    ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"return"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token comment"},children:"/* development only config options here */"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n  ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n\n  ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"return"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token comment"},children:"/* config options for all phases except development here */"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n"]})}),(0,d.jsxs)(h.Z,{children:["A ",(0,d.jsx)(h.Z.Code,{children:"next.config.js"})," that checks for the development phase"]}),(0,d.jsx)(f.XJ,{name:"h2",components:b,children:"Improved production source map generation"}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["With the introduction of universal webpack in ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"/blog/next5"},children:"Next.js 5"})," adding source maps to your production environment became as simple as adding a few lines to ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"next.config.js"}),":"]}),(0,d.jsx)(f.XJ,{name:"pre",components:b,props:{className:"language-js"},children:(0,d.jsxs)(f.XJ,{name:"code",components:b,parentName:"pre",props:{className:"language-js"},children:["module",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"."}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token property-access"},children:"exports"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token operator"},children:"="})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n  ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token function"},children:"webpack"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"("}),(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token parameter"},children:["config",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:","})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"{"})," dev ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"}"})]}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:")"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n    ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"if"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"("}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token operator"},children:"!"}),"dev",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:")"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n      config",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"."}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token property-access"},children:"devtool"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token operator"},children:"="})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token string"},children:"'source-map'"}),"\n      ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"for"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"("}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"const"})," plugin ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"of"})," config",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"."}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token property-access"},children:"plugins"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:")"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n        ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"if"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"("}),"plugin",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"["}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token string"},children:"'constructor'"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"]"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"["}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token string"},children:"'name'"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"]"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token operator"},children:"==="})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token string"},children:"'UglifyJsPlugin'"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:")"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n          plugin",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"."}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token property-access"},children:"options"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"."}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token property-access"},children:"sourceMap"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token operator"},children:"="})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token boolean"},children:"true"}),"\n          ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"break"}),"\n        ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n      ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n    ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n    ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"return"})," config\n  ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n"]})}),(0,d.jsxs)(h.Z,{children:["Manually enable source maps in ",(0,d.jsx)(h.Z.Code,{children:"next.config.js"})]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:[(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/vercel/next-plugins/tree/master/packages/next-source-maps"},children:"@zeit/next-source-maps"})," can be added to a project to automatically enable production source maps for you, add the following to ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"next.config.js"}),":"]}),(0,d.jsx)(f.XJ,{name:"pre",components:b,props:{className:"language-js"},children:(0,d.jsxs)(f.XJ,{name:"code",components:b,parentName:"pre",props:{className:"language-js"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"const"})," withSourceMaps ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token operator"},children:"="})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token function"},children:"require"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"("}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token string"},children:"'@zeit/next-source-maps'"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:")"}),"\nmodule",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"."}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token property-access"},children:"exports"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token operator"},children:"="})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token function"},children:"withSourceMaps"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"("}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:")"}),"\n"]})}),(0,d.jsxs)(h.Z,{children:["Using ",(0,d.jsx)(h.Z.Code,{children:"@zeit/next-source-maps"})," to enable source maps in ",(0,d.jsx)(h.Z.Code,{children:"next.config.js"})]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["This enabled outputting of source maps for all but one file, ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"app.js"}),", the reason for this was that ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"app.js"})," consisted of multiple files (",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"manifest.js"})," and ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"commons.js"}),") combined with a webpack plugin. A side effect of this was that webpack couldn't generate source maps for the combined file."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Thanks to a ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/vercel/next.js/pull/3793"},children:"pull request"})," from ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/ptomasroos"},children:"@ptomasroos"})," the ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"app.js"})," file was replaced by ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"main.js"}),". This file will hold the code that was previously compiled to ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"manifest.js"})," and ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"commons.js"})," and webpack will generate a source map for ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"main.js"}),". Source maps will be automatically served, allowing external error tracking tools to show the actual file an line number when errors are detected."]}),(0,d.jsx)(i.Z,{src:"https://assets.vercel.com/image/upload/front/blog/next5-1/sourcemap.png",width:1874/3,height:350,caption:"The source code is shown in the sources panel"}),(0,d.jsx)(f.XJ,{name:"h2",components:b,children:"New plugins / improvements to existing ones"}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["We've introduced two new official plugins. ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/vercel/next-plugins/tree/master/packages/next-bundle-analyzer"},children:"@zeit/next-bundle-analyzer"})," allows for easily setting up ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"webpack-bundle-analyzer"})," to analyze the server side and client side bundles separately."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Additionally there were a lot of improvements to the official ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/vercel/next-plugins/tree/master/packages/next-css"},children:(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"a",children:"css"})}),", ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/vercel/next-plugins/tree/master/packages/next-less"},children:(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"a",children:"less"})}),", and ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/vercel/next-plugins/tree/master/packages/next-sass"},children:(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"a",children:"sass"})})," plugins regarding hot reloading and bundling. For example there is no longer a flash of unstyled content in development mode. And styles in subcomponents get picked up as well."]}),(0,d.jsx)(f.XJ,{name:"h2",components:b,children:"Community"}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["You can now find the Next.js community on ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/vercel/next.js/discussions"},children:"GitHub"}),".\nRecently a list of ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/vercel/next.js/discussions/10640"},children:"notable companies using Next.js"})," was posted there. Feel free to post projects in the thread."]}),(0,d.jsx)(f.XJ,{name:"h2",components:b,children:"Thank you"}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["We would like to thank everyone who has contributed to Next.js for this release. Whether it's contributing to the core or expanding and improving our ever growing ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/vercel/next.js/tree/canary/examples"},children:"examples directory"}),"."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["If you are looking to start contributing to Next.js you can find issues with the ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/vercel/next.js/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc+label%3A%22good+first+issue%22"},children:"good first issue"})," or ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/vercel/next.js/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc+label%3A%22help+wanted%22"},children:"help wanted"})," label."]}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"A special thank you to Trulia for their valuable feedback related to environment configuration and the new error page handling."})]})}}],k(b.prototype,c),e&&k(b,e),t}(e.Component);q.isMDXComponent=!0},54616:function(a){a.exports={figure:"image-figure_figure__DUggx",shadow:"image-figure_shadow___1DHG",figcaption:"image-figure_figcaption__LVySW"}},49791:function(a,b){"use strict";var c=function(){"use strict";var a={base:"https://twemoji.maxcdn.com/v/13.0.0/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:function(a){var b="string"==typeof a?parseInt(a,16):a;return b<65536?g(b):g(55296+((b-=65536)>>10),56320+(1023&b))},toCodePoint:r},onerror:function(){this.parentNode&&this.parentNode.replaceChild(h(this.alt,!1),this)},parse:function(b,c){var d;return c&&"function"!=typeof c||(c={callback:c}),("string"==typeof b?n:m)(b,{callback:c.callback||j,attributes:"function"==typeof c.attributes?c.attributes:p,base:"string"==typeof c.base?c.base:a.base,ext:c.ext||a.ext,size:c.folder||("number"==typeof(d=c.size||a.size)?d+"x"+d:d),className:c.className||a.className,onerror:c.onerror||a.onerror})},replace:q,test:function(a){c.lastIndex=0;var b=c.test(a);return c.lastIndex=0,b}},b={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;","\"":"&quot;"},c=/(?:\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d])|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udeeb\udeec\udef4-\udefc\udfe0-\udfeb]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78\udd7a-\uddb4\uddb7\uddba\uddbc-\uddcb\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7a\ude80-\ude86\ude90-\udea8\udeb0-\udeb6\udec0-\udec2\uded0-\uded6]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,d=/\uFE0F/g,e=/[&<>'"]/g,f=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,g=String.fromCharCode;return a;function h(a,b){return document.createTextNode(b?a.replace(d,""):a)}function i(a){return a.replace(e,o)}function j(a,b){return"".concat(b.base,b.size,"/",a,b.ext)}function k(a,b){for(var c,d,e=a.childNodes,g=e.length;g--;)3===(d=(c=e[g]).nodeType)?b.push(c):1!==d||"ownerSVGElement"in c||f.test(c.nodeName.toLowerCase())||k(c,b);return b}function l(a){return r(0>a.indexOf("‍")?a.replace(d,""):a)}function m(a,b){for(var d,e,f,g,i,j,m,n,o,p,q,r,s,t=k(a,[]),u=t.length;u--;){for(f=!1,g=document.createDocumentFragment(),j=(i=t[u]).nodeValue,n=0;m=c.exec(j);){if((o=m.index)!==n&&g.appendChild(h(j.slice(n,o),!0)),r=l(q=m[0]),n=o+q.length,s=b.callback(r,b),r&&s){for(e in(p=new Image).onerror=b.onerror,p.setAttribute("draggable","false"),d=b.attributes(q,r))d.hasOwnProperty(e)&&0!==e.indexOf("on")&&!p.hasAttribute(e)&&p.setAttribute(e,d[e]);p.className=b.className,p.alt=q,p.src=s,f=!0,g.appendChild(p)}p||g.appendChild(h(q,!1)),p=null}f&&(n<j.length&&g.appendChild(h(j.slice(n),!0)),i.parentNode.replaceChild(g,i))}return a}function n(a,b){return q(a,function(a){var c,d,e=a,f=l(a),g=b.callback(f,b);if(f&&g){for(d in e="<img ".concat("class=\"",b.className,"\" ","draggable=\"false\" ","alt=\"",a,"\""," src=\"",g,"\""),c=b.attributes(a,f))c.hasOwnProperty(d)&&0!==d.indexOf("on")&& -1===e.indexOf(" "+d+"=")&&(e=e.concat(" ",d,"=\"",i(c[d]),"\""));e=e.concat("/>")}return e})}function o(a){return b[a]}function p(){return null}function q(a,b){return String(a).replace(c,b)}function r(a,b){for(var c=[],d=0,e=0,f=0;f<a.length;)d=a.charCodeAt(f++),e?(c.push((65536+(e-55296<<10)+(d-56320)).toString(16)),e=0):55296<=d&&d<=56319?e=d:c.push(d.toString(16));return c.join(b||"-")}}();b.Z=c}},function(a){a.O(0,[7582,8579,5938,8632,642,5315,9703,2682,9468,9774,2888,179],function(){return a(a.s=12102)}),_N_E=a.O()}])