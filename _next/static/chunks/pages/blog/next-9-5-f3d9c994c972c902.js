(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1627],{22843:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/next-9-5",function(){return c(85802)}])},40629:function(a,b,c){"use strict";var d=c(24246),e=c(6174),f=c(24945);function g(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}b.Z=function(a){var b=a.options,c=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,["options"]);return(0,d.jsx)(f.Z,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){g(a,b,c[b])})}return a}({},c,{renderImage:function(a){return(0,d.jsxs)("div",{className:"tweet-wrapper",children:[(0,d.jsx)(e.Z,{id:a.src,options:b}),(0,d.jsx)("style",{jsx:!0,children:"\n              .tweet-wrapper {\n                height: 100%;\n                left: 0;\n                position: absolute;\n                top: 0;\n                width: 100%;\n              }\n\n              .tweet-wrapper :global(twitter-widget) {\n                margin: 0 !important;\n              }\n            "})]})}}))}},90603:function(a,b,c){"use strict";var d=c(24246);c(27378);var e=c(38579),f=c(54616),g=c.n(f);function h(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}b.Z=function(a){var b=a.caption,c=a.margin,f=a.captionSpacing,i=void 0===f?null:f,j=a.shadow,k=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,["caption","margin","captionSpacing","shadow"]);return(0,d.jsxs)("figure",{className:g().figure,style:{margin:"".concat(void 0===c?40:c,"px 0")},children:[(0,d.jsx)(e.default,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){h(a,b,c[b])})}return a}({},k,{className:void 0!==j&&j?g().shadow:""})),b&&(0,d.jsx)("figcaption",{className:g().figcaption,style:i?{marginTop:i}:{},children:b})]})}},17714:function(a,b,c){"use strict";c.d(b,{Z:function(){return g}});var d=c(24246),e=c(95042);function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function g(a){a.href,a.children;var b=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,["href","children"]);return(0,d.jsx)("a",function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){f(a,b,c[b])})}return a}({href:"".concat(e.z$,"/docs/edge-network/overview"),rel:"noopener noreferrer",target:"_blank"},b,{children:e.Uy}))}},79646:function(a,b,c){"use strict";var d=c(24246),e=c(79892),f=c.n(e),g=c(36279);function h(a){var b=a.children;return(0,d.jsxs)("p",{className:"jsx-caf08a00e2d0f42",children:[b,(0,d.jsx)(f(),{id:"caf08a00e2d0f42",children:"p.jsx-caf08a00e2d0f42{color:#999;\nfont-size:12px;\nmargin:-20px 0 40px 0;\ntext-align:center}"})]})}h.Code=function(a){var b=a.children;return(0,d.jsxs)("code",{className:f().dynamic([["22303139b462175e",[g.Jb]]]),children:[b,(0,d.jsx)(f(),{id:"22303139b462175e",dynamic:[g.Jb],children:"code.__jsx-style-dynamic-selector{color:#666;\nfont-family:".concat(g.Jb,"}\ncode.__jsx-style-dynamic-selector::before{content:'\\`'}\ncode.__jsx-style-dynamic-selector::after{content:'\\`'}")})]})},b.Z=h},53347:function(a,b,c){"use strict";c.r(b),c.d(b,{meta:function(){return j},"default":function(){return k}});var d=c(24246),e=c(27378),f=c(65977);function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function i(a,b){return(i=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var j={title:"Next.js 9.5",description:"Next.js 9.5 introduces Stable Incremental Static Regeneration, Custom Base Path, Redirects and Rewrites, Webpack 5 Beta, and more!",date:"2020-07-27T16:23:33.431Z",url:"https://nextjs.org/blog/next-9-5",link:"/blog/next-9-5",authors:[{name:"Tim Neutkens",avatar:"/static/team/tim.jpg",twitter:"timneutkens"},{name:"Joe Haddad",avatar:"/static/team/timer.jpg",twitter:"timer150"},{name:"JJ Kasper",avatar:"/static/team/jj.jpg",twitter:"_ijjk"},{name:"Connor Davis",avatar:"/static/team/connor.jpg",twitter:"connordav_is"},{name:"Luis Alvarez",avatar:"/static/team/lfades.jpg",twitter:"luis_fades"},{name:"Shu Uesugi",avatar:"/static/team/chibicode.jpg",twitter:"chibicode"}]},k=function(a){"use strict";!function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&i(a,b)}(m,a);var b,c,e,j,k,l=(j=m,k=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,b,c,d,e=h(j);if(k){var f=h(this).constructor;d=Reflect.construct(e,arguments,f)}else d=e.apply(this,arguments);return b=this,(c=d)&&("object"==((a=c)&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof c)?c:(function(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a})(b)});function m(a){var b;return!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,m),(b=l.call(this,a)).layout=null,b}return b=m,c=[{key:"render",value:function(){var a=this.props,b=a.components;return(function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}})(a,["components"]),(0,d.jsxs)(f.XJ,{name:"wrapper",components:b,children:[(0,d.jsx)(f.XJ,{name:"p",components:b,children:"We are excited today to introduce Next.js 9.5, featuring:"}),(0,d.jsxs)(f.XJ,{name:"ul",components:b,children:[(0,d.jsx)(f.XJ,{name:"li",components:b,parentName:"ul",children:(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"li",props:{href:"#stable-incremental-static-regeneration"},children:"Stable Incremental Static Regeneration"})}),(0,d.jsx)(f.XJ,{name:"li",components:b,parentName:"ul",children:(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"li",props:{href:"#customizable-base-path"},children:"Customizable Base Path"})}),(0,d.jsx)(f.XJ,{name:"li",components:b,parentName:"ul",children:(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"li",props:{href:"#support-for-rewrites-redirects-and-headers"},children:"Support for Rewrites, Redirects, and Headers"})}),(0,d.jsx)(f.XJ,{name:"li",components:b,parentName:"ul",children:(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"li",props:{href:"#optional-trailing-slash-in-urls"},children:"Optional Trailing Slash in URLs"})}),(0,d.jsx)(f.XJ,{name:"li",components:b,parentName:"ul",children:(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"li",props:{href:"#persistent-caching-for-page-bundles"},children:"Persistent Caching for Page Bundles"})}),(0,d.jsx)(f.XJ,{name:"li",components:b,parentName:"ul",children:(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"li",props:{href:"#fast-refresh-enhancements"},children:"Fast Refresh Enhancements"})}),(0,d.jsx)(f.XJ,{name:"li",components:b,parentName:"ul",children:(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"li",props:{href:"#production-react-profiling"},children:"Production React Profiling"})}),(0,d.jsx)(f.XJ,{name:"li",components:b,parentName:"ul",children:(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"li",props:{href:"#optional-catch-all-routes"},children:"Optional Catch All Routes"})}),(0,d.jsx)(f.XJ,{name:"li",components:b,parentName:"ul",children:(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"li",props:{href:"#webpack-5-support-beta"},children:"Webpack 5 Support (beta)"})})]})]})}}],g(b.prototype,c),e&&g(b,e),m}(e.Component);k.isMDXComponent=!0},85802:function(a,b,c){"use strict";c.r(b),c.d(b,{"default":function(){return q}});var d=c(24246),e=c(27378),f=c(65977),g=c(85329);c(24945);var h=c(53347);c(74843);var i=c(79646);c(17714);var j=c(90603),k=c(40629);function l(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function n(a){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function o(a,b){return(o=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var p={},q=function(a){"use strict";!function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&o(a,b)}(t,a);var b,c,e,q,r,s=(q=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,b,c,d,e=n(q);if(r){var f=n(this).constructor;d=Reflect.construct(e,arguments,f)}else d=e.apply(this,arguments);return b=this,(c=d)&&("object"==((a=c)&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof c)?c:(function(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a})(b)});function t(a){var b;return!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,t),(b=s.call(this,a)).layout=(0,g.Z)(function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}({},h.meta)),b}return b=t,c=[{key:"render",value:function(){var a=this.props,b=a.components,c=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,["components"]);return(0,d.jsxs)(f.XJ,{name:"wrapper",Layout:this.layout,layoutProps:Object.assign({},p,c),components:b,children:[(0,d.jsx)(f.XJ,{name:"p",components:b,children:"We are excited today to introduce Next.js 9.5, featuring:"}),(0,d.jsxs)(f.XJ,{name:"ul",components:b,children:[(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:[(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"li",children:(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"strong",props:{href:"#stable-incremental-static-regeneration"},children:"Stable Incremental Static Regeneration"})}),": re-build static pages after you've deployed, in milliseconds"]}),(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:[(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"li",children:(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"strong",props:{href:"#customizable-base-path"},children:"Customizable Base Path"})}),": easily host Next.js projects on subpaths of your domain"]}),(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:[(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"li",children:(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"strong",props:{href:"#support-for-rewrites-redirects-and-headers"},children:"Support for Rewrites, Redirects, and Headers"})}),": rewrite vanity URLs, redirect old URLs, and add headers to static pages"]}),(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:[(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"li",children:(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"strong",props:{href:"#optional-trailing-slash-in-urls"},children:"Optional Trailing Slash in URLs"})}),": consistently enforce the absence or presence of a trailing slash"]}),(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:[(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"li",children:(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"strong",props:{href:"#persistent-caching-for-page-bundles"},children:"Persistent Caching for Page Bundles"})}),": unchanged pages' JavaScript files now carry forward across builds"]}),(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:[(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"li",children:(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"strong",props:{href:"#fast-refresh-enhancements"},children:"Fast Refresh Enhancements"})}),": improved reliablility of the Next.js live-editing experience"]}),(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:[(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"li",children:(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"strong",props:{href:"#production-react-profiling"},children:"Production React Profiling"})}),": a new flag to measure your project's “cost” of rendering"]}),(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:[(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"li",children:(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"strong",props:{href:"#optional-catch-all-routes"},children:"Optional Catch All Routes"})}),": dynamic routes now provide more flexibility for SEO-driven use-cases"]}),(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:[(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"li",children:(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"strong",props:{href:"#webpack-5-support-beta"},children:"Webpack 5 Support (beta)"})}),": optionally opt-into the next version of webpack 5 for improved build size and speed"]})]}),(0,d.jsx)(f.XJ,{name:"h2",components:b,children:"Stable Incremental Static Regeneration"}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Next.js introduced\n",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://nextjs.org/blog/next-9-3#next-gen-static-site-generation-ssg-support"},children:"Static Site Generation methods in 9.3"}),"\nwith a clear goal in mind: we should\nget\xa0",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://rauchg.com/2020/2019-in-review#static-is-the-new-dynamic"},children:"the benefits of static"}),"\xa0(always\nfast, always\nonline,\xa0",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://rauchg.com/2020/static-hoisting#hoist-to-the-edge"},children:"globally replicated"}),"),\nbut with excellent support for dynamic data, which Next.js is known for."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["To get the best of both worlds, Next.js introduced\xa0",(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"p",children:"Incremental Static\nGeneration"}),", updating static content after you have already built your site. By\nusing the\xa0",(0,d.jsxs)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://nextjs.org/docs/basic-features/data-fetching#the-fallback-key-required"},children:[(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"a",children:"fallback: true"}),"\xa0option in\xa0",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"a",children:"getStaticPaths"})]}),",\nyou can ",(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"p",children:"register"}),"\xa0",(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"p",children:"new static pages"}),"\xa0",(0,d.jsxs)(f.XJ,{name:"strong",components:b,parentName:"p",children:["at ",(0,d.jsx)(f.XJ,{name:"em",components:b,parentName:"strong",children:"runtime"})]}),"."]}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"Next.js can statically pre-render an infinite number of pages this way,\non-demand, no matter how large your dataset is."}),(0,d.jsx)(k.Z,{width:500,height:611,src:"1253478798286151680",options:{conversation:"none",align:"center"},style:{paddingTop:"calc(500px - 100vw)"}}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Today, we are announcing the ",(0,d.jsx)(f.XJ,{name:"em",components:b,parentName:"p",children:"general availability"})," of ",(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"p",children:"Incremental Static\nRe-generation"}),", which is a mechanism ",(0,d.jsxs)(f.XJ,{name:"strong",components:b,parentName:"p",children:["to update ",(0,d.jsx)(f.XJ,{name:"em",components:b,parentName:"strong",children:"existing"})," pages"]}),", by\nre-rendering them in the background as traffic comes in."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Inspired by ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://tools.ietf.org/html/rfc5861"},children:"stale-while-revalidate"}),",\nbackground regeneration ensures traffic is served uninterruptedly, always from\nstatic storage, and the newly built page is pushed only ",(0,d.jsx)(f.XJ,{name:"em",components:b,parentName:"p",children:"after it's done\ngenerating"}),"."]}),(0,d.jsx)(f.XJ,{name:"pre",components:b,props:{className:"language-tsx"},children:(0,d.jsxs)(f.XJ,{name:"code",components:b,parentName:"pre",props:{className:"language-tsx"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"export"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"async"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"function"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token function"},children:"getStaticProps"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"("}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:")"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n  ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"return"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n    props",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:":"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"await"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token function"},children:"getDataFromCMS"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"("}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:")"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:","}),"\n    ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token comment"},children:"// we will attempt to re-generate the page:"}),"\n    ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token comment"},children:"// - when a request comes in"}),"\n    ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token comment"},children:"// - at most once every second"}),"\n    revalidate",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:":"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token number"},children:"1"}),"\n  ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n"]})}),(0,d.jsxs)(i.Z,{children:["The revalidate flag is the number of seconds during which at most one generation will happen, to prevent a"," ",(0,d.jsx)("a",{href:"https://en.wikipedia.org/wiki/Cache_stampede",children:"https://en.wikipedia.org/wiki/Cache_stampede"}),"."]}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"Unlike traditional SSR, Incremental Static Regeneration ensures you retain the\nbenefits of static:"}),(0,d.jsxs)(f.XJ,{name:"ul",components:b,children:[(0,d.jsx)(f.XJ,{name:"li",components:b,parentName:"ul",children:"No spikes in latency. Pages are served consistently fast."}),(0,d.jsx)(f.XJ,{name:"li",components:b,parentName:"ul",children:"Pages never go offline. If the background page re-generation fails, the old\npage remains unaltered."}),(0,d.jsx)(f.XJ,{name:"li",components:b,parentName:"ul",children:"Low database and backend load. Pages are re-computed at most once\nconcurrently."})]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Both incremental features (adding pages and lazily updating them), as well as\n",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://nextjs.org/docs/advanced-features/preview-mode"},children:"preview mode"}),", are now\nstable and already fully supported by both ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"next start"})," and the\n",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://vercel.com"},children:"Vercel edge platform"})," out of the box."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["To showcase this new feature we have created an example showing regenerating a\nstatic page that shows the count of various GitHub reactions of a specific\nissue: ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://reactions-demo.vercel.app/"},children:"https://reactions-demo.vercel.app/"})]}),(0,d.jsx)(j.Z,{caption:"After the first visit following our emoji reaction, a new page generation kicks off in the background. Every single request throughout is served from static cache.",captionSpacing:0,src:"/static/blog/next-9-5/reactions-demo.gif",width:717,height:732}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"Up next, we will be working on a supplemental RFC to address two additional\nincremental static generation capabilities:"}),(0,d.jsxs)(f.XJ,{name:"ul",components:b,children:[(0,d.jsx)(f.XJ,{name:"li",components:b,parentName:"ul",children:"Re-generating and invalidating multiple pages at once (like your blog index\nand a certain blog post)"}),(0,d.jsx)(f.XJ,{name:"li",components:b,parentName:"ul",children:"Re-generating by listening to events (like CMS webhooks), ahead of user\ntraffic"})]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["For more details, check out\n",(0,d.jsxs)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://nextjs.org/docs/basic-features/data-fetching#getstaticprops-static-generation"},children:["the ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"a",children:"getStaticProps"})," documentation"]}),"."]}),(0,d.jsx)(f.XJ,{name:"h2",components:b,children:"Customizable Base Path"}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Next.js projects are not always served from the root a domain. Sometimes you\nmight want to host your Next.js project under a subpath like ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"/docs"})," so that the\nNext.js project only covers that subsection of the domain."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["While this has been possible so far, it was at the expense of quite a bit of\nextra configuration. For example, adding the prefix to every single ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"<Link>"})," and\nmaking sure Next.js was serving the JavaScript bundles from the right path."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["To address this pain point, we're introducing a new configuration option.\n",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"basePath"})," allows you to easily host your Next.js project on a subpath of your\ndomain."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["To get started using ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"basePath"})," you can add it to ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"next.config.js"}),":"]}),(0,d.jsx)(f.XJ,{name:"pre",components:b,props:{className:"language-tsx"},children:(0,d.jsxs)(f.XJ,{name:"code",components:b,parentName:"pre",props:{className:"language-tsx"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token comment"},children:"// next.config.js"}),"\n",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"module"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"."}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token property-access"},children:"exports"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token operator"},children:"="})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n  basePath",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:":"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token string"},children:"'/docs'"}),"\n",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n"]})}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["After configuring the ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"basePath"})," your project will automatically be routed from\nthe provided path. In this case, ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"/docs"}),"."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["When linking to other pages in the project with ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"next/link"})," or ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"next/router"})," the\n",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"basePath"})," will be automatically prefixed. This allows you to change the\n",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"basePath"})," without changing your project."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["An example of this would be using ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"next/link"})," to route to another page:"]}),(0,d.jsx)(f.XJ,{name:"pre",components:b,props:{className:"language-tsx"},children:(0,d.jsxs)(f.XJ,{name:"code",components:b,parentName:"pre",props:{className:"language-tsx"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"import"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token maybe-class-name"},children:"Link"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"from"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token string"},children:"'next/link'"}),"\n\n",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"export"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"default"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"function"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token function"},children:(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token maybe-class-name"},children:"HomePage"})}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"("}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:")"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n  ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"return"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"("}),"\n    ",(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token tag"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token tag"},children:(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"<"})}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:">"})]}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token plain-text"},children:"\n      "}),(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token tag"},children:[(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token tag"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"<"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token class-name"},children:"Link"})]})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token attr-name"},children:"href"}),(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token attr-value"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"="}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"\""}),"/documentation-page",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"\""})]}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:">"})]}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token plain-text"},children:"\n        "}),(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token tag"},children:[(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token tag"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"<"}),"a"]}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:">"})]}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token plain-text"},children:"Documentation page"}),(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token tag"},children:[(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token tag"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"</"}),"a"]}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:">"})]}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token plain-text"},children:"\n      "}),(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token tag"},children:[(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token tag"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"</"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token class-name"},children:"Link"})]}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:">"})]}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token plain-text"},children:"\n    "}),(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token tag"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token tag"},children:(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"</"})}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:">"})]}),"\n  ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:")"}),"\n",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n"]})}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Using ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"next/link"})," in this way will result in the following HTML rendered to the\nweb browser:"]}),(0,d.jsx)(f.XJ,{name:"pre",components:b,props:{className:"language-html"},children:(0,d.jsxs)(f.XJ,{name:"code",components:b,parentName:"pre",props:{className:"language-html"},children:[(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token tag"},children:[(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token tag"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"<"}),"a"]})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token attr-name"},children:"href"}),(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token attr-value"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"="}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"\""}),"/docs/documentation-page",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"\""})]}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:">"})]}),"Documentation page",(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token tag"},children:[(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token tag"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:"</"}),"a"]}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token punctuation"},children:">"})]}),"\n"]})}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["For more details, check out\n",(0,d.jsxs)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://nextjs.org/docs/api-reference/next.config.js/basepath"},children:["the ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"a",children:"basePath"})," documentation"]}),"."]}),(0,d.jsx)(f.XJ,{name:"h2",components:b,children:"Support for Rewrites, Redirects, and Headers"}),(0,d.jsx)(f.XJ,{name:"h3",components:b,children:"Rewrites"}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"When building a Next.js project you might want to proxy certain routes to\nanother URL. For example, if you want to incrementally adopt Next.js into your\nstack you would want to route pages that exist in your Next.js project and\nthen everything that was not matched to the old project that you're\nmigrating off of."}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["With Next.js 9.5 we're introducing a new configuration option named ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"rewrites"}),",\nwhich allows you to map an incoming request path to a different destination\npath, including external URLs."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["For example, you might want to rewrite a certain route to ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"example.com"}),":"]}),(0,d.jsx)(f.XJ,{name:"pre",components:b,props:{className:"language-ts"},children:(0,d.jsxs)(f.XJ,{name:"code",components:b,parentName:"pre",props:{className:"language-ts"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token comment"},children:"// next.config.js"}),"\n",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"module"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"."}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token property-access"},children:"exports"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token operator"},children:"="})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n  ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"async"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token function"},children:"rewrites"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"("}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:")"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n    ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"return"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"["}),"\n      ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"})," source",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:":"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token string"},children:"'/backend/:path*'"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:","})," destination",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:":"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token string"},children:"'https://example.com/:path*'"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n    ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"]"}),"\n  ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n"]})}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["In this case, all paths under ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"/backend"})," would be routed to ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"example.com"}),"."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["You can also check if your Next.js project routes matched and then rewrite to\nthe previous project if there is no match. This is incredibly useful for\n",(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"p",children:"incremental adoption of Next.js"}),":"]}),(0,d.jsx)(f.XJ,{name:"pre",components:b,props:{className:"language-ts"},children:(0,d.jsxs)(f.XJ,{name:"code",components:b,parentName:"pre",props:{className:"language-ts"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"module"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"."}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token property-access"},children:"exports"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token operator"},children:"="})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n  ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"async"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token function"},children:"rewrites"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"("}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:")"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n    ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"return"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"["}),"\n      ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token comment"},children:"// check if Next.js project routes match before we attempt proxying"}),"\n      ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n        source",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:":"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token string"},children:"'/:path*'"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:","}),"\n        destination",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:":"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token string"},children:"'/:path*'"}),"\n      ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:","}),"\n      ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n        source",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:":"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token string"},children:"'/:path*'"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:","}),"\n        destination",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:":"})," ",(0,d.jsxs)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token template-string"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token template-punctuation string"},children:"`"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token string"},children:"https://example.com/:path*"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"span",props:{className:"token template-punctuation string"},children:"`"})]}),"\n      ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n    ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"]"}),"\n  ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n"]})}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["In this case, we first match all paths. If none match we proxy to\n",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"example.com"})," which would be the previous project."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["To learn more about ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"rewrites"})," feature check out the\n",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://nextjs.org/docs/api-reference/next.config.js/rewrites"},children:"rewrites documentation"}),"."]}),(0,d.jsx)(f.XJ,{name:"h3",components:b,children:"Redirects"}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Most websites need at least some redirects. Especially when changing the\nstructure of your project routes. For example, when moving ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"/blog"})," to ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"/news"})," or\nsimilar transitions."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Previously having a list of redirects in your Next.js project required setting\nup a custom server or a custom ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"_error"})," page to check if there are redirects set\nfor the route. However, this came at the expense of invalidating key static and\nserverless optimizations (by having a server) or wasn't ergonomic enough."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Starting from Next.js 9.5 you are now able to create a list of redirects in\n",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"next.config.js"})," under the ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"redirects"})," key:"]}),(0,d.jsx)(f.XJ,{name:"pre",components:b,props:{className:"language-ts"},children:(0,d.jsxs)(f.XJ,{name:"code",components:b,parentName:"pre",props:{className:"language-ts"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token comment"},children:"// next.config.js"}),"\n",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"module"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"."}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token property-access"},children:"exports"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token operator"},children:"="})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n  ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"async"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token function"},children:"redirects"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"("}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:")"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n    ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"return"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"["}),"\n      ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n        source",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:":"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token string"},children:"'/about'"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:","}),"\n        destination",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:":"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token string"},children:"'/'"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:","}),"\n        permanent",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:":"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token boolean"},children:"true"}),"\n      ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n    ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"]"}),"\n  ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n"]})}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["To learn more about ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"redirects"})," feature check out the\n",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://nextjs.org/docs/api-reference/next.config.js/redirects"},children:"redirects documentation"}),"."]}),(0,d.jsx)(f.XJ,{name:"h3",components:b,children:"Headers"}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"Next.js allows you to build hybrid projects that use both Static Generation and\nServer-Side Rendering. With Server-Side rendering, you can set headers for the\nincoming request. For static pages, setting headers was not possible until now."}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["We now have introduced a ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"headers"})," property in ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"next.config.js"})," that applies to\nall Next.js routes:"]}),(0,d.jsx)(f.XJ,{name:"pre",components:b,props:{className:"language-ts"},children:(0,d.jsxs)(f.XJ,{name:"code",components:b,parentName:"pre",props:{className:"language-ts"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token comment"},children:"// next.config.js"}),"\n",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"module"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"."}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token property-access"},children:"exports"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token operator"},children:"="})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n  ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"async"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token function"},children:"headers"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"("}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:")"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n    ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"return"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"["}),"\n      ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n        source",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:":"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token string"},children:"'/:path*'"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:","}),"\n        headers",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:":"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"["}),"\n          ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n            key",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:":"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token string"},children:"'Feature-Policy'"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:","}),"\n            ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token comment"},children:"// Disable microphone and geolocation"}),"\n            value",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:":"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token string"},children:"\"microphone 'none'; geolocation 'none'\""}),"\n          ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n        ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"]"}),"\n      ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n    ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"]"}),"\n  ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n"]})}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["The ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"headers"})," option allows you to set commonly needed headers like\n",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Feature-Policy"},children:(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"a",children:"Feature-Policy"})}),"\nand\n",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP"},children:(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"a",children:"Content-Security-Policy"})}),"."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["To learn more about ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"headers"})," feature check out the\n",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://nextjs.org/docs/api-reference/next.config.js/headers"},children:"headers documentation"}),"."]}),(0,d.jsx)(f.XJ,{name:"h2",components:b,children:"Optional Trailing Slash in URLs"}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"When Next.js was introduced 3 years ago, its default behavior was for all URLs\nwith a trailing slash to always return a 404 page."}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"While effective, some users have requested the ability to change this behavior.\nFor example, when migrating an existing project to Next.js that previously\nalways had trailing slashes enforced."}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["With Next.js 9.5 we have introduced a new option called ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"trailingSlash"})," to\n",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"next.config.js"}),"."]}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"This new option ensures Next.js is automatically handling the trailing slash\nbehavior:"}),(0,d.jsxs)(f.XJ,{name:"ul",components:b,children:[(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:["Automatically redirect trailing slash URLs to the URL without the trailing\nslash, for example: ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"li",children:"/about/"})," to ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"li",children:"/about"})]}),(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:["When ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"li",children:"trailingSlash"})," is set to ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"li",children:"true"})," the URL without trailing slash will be\nredirected to the URL with a trailing slash, for example: ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"li",children:"/about"})," to\n",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"li",children:"/about/"})]}),(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:["Ensures ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"li",children:"next/link"})," has the trailing slash automatically applied/removed to\navoid needless redirects."]})]}),(0,d.jsx)(f.XJ,{name:"pre",components:b,props:{className:"language-ts"},children:(0,d.jsxs)(f.XJ,{name:"code",components:b,parentName:"pre",props:{className:"language-ts"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token comment"},children:"// next.config.js"}),"\n",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token keyword"},children:"module"}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"."}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token property-access"},children:"exports"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token operator"},children:"="})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n  ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token comment"},children:"// Force a trailing slash, the default value is no trailing slash (false)"}),"\n  trailingSlash",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:":"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token boolean"},children:"true"}),"\n",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n"]})}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["To learn more about the ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"trailingSlash"})," feature check out the\n",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://nextjs.org/docs/api-reference/next.config.js/trailing-slash"},children:"trailingSlash documentation"})]}),(0,d.jsx)(f.XJ,{name:"h2",components:b,children:"Persistent Caching for Page Bundles"}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["When writing Next.js pages, the creation of all script bundles, CSS stylesheets,\nand HTML is fully automatic and abstracted away from you. If you inspect the\ngenerated ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"<script>"})," tags before Next.js 9.5, you'll notice their URLs follow a\npattern like this:"]}),(0,d.jsx)(f.XJ,{name:"pre",components:b,children:(0,d.jsx)(f.XJ,{name:"code",components:b,parentName:"pre",props:{},children:"/_next/static/ovgxWYrvKyjnlM15qtz7h/pages/about.js\n"})}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["The path segment ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"ovgxWYrvKyjnlM15qtz7h"})," above is what we called the ",(0,d.jsx)(f.XJ,{name:"em",components:b,parentName:"p",children:"build ID"}),".\nWhile these files were easily cacheable at the edge and on the user's machine,\nafter re-building your app, the build ID would change and all caches would be\nbusted."]}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"For most projects this trade-off was fine, however, we wanted to optimize this\nbehavior even further by no longer invalidating the browser cache for pages that\nhad not been changed."}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["The introduction of the\n",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://nextjs.org/blog/next-9-2#improved-code-splitting-strategy"},children:"improved code-splitting strategy in Next.js 9.2"}),"\nthat was developed in collaboration with the Google Chrome team laid some\ngroundwork for these improvements to the Next.js page bundle generation."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Starting with Next.js 9.5 ",(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"p",children:"all page JavaScript bundles will use content hashes\ninstead of the build ID"}),". This allows for pages that have not changed between\ndeploys to remain in the browser and edge cache without needing to be downloaded\nagain."]}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"In contrast, the URL pattern after these changes looks something like:"}),(0,d.jsx)(f.XJ,{name:"pre",components:b,children:(0,d.jsx)(f.XJ,{name:"code",components:b,parentName:"pre",props:{},children:"/_next/static/chunks/pages/about.qzfS4o5gIEXRME6sTEahL.js\n"})}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Instead of a global build ID, the ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"qzfS4o5gIEXRME6sTEahL"})," portion is a\ndeterministic hash of the ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"about.js"})," bundle, which will be stable insomuch the\ncode for that section of your site doesn't change. Further, ",(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"p",children:"it's now cached\nlong-term across re-deploys"})," via\n",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"Cache-Control: public,max-age=31536000,immutable"})," which Next.js automatically\nsets for you."]}),(0,d.jsx)(f.XJ,{name:"h2",components:b,children:"Fast Refresh Enhancements"}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["We\n",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://nextjs.org/blog/next-9-4#fast-refresh"},children:"introduced Fast Refresh in Next.js 9.4"}),",\na new hot reloading experience that gives you instantaneous feedback on edits\nmade to your React components."]}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"Next.js 9.5 further refines our Fast Refresh implementation and gives you the\ntools you need to succeed:"}),(0,d.jsxs)(f.XJ,{name:"ul",components:b,children:[(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:[(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"li",children:"Easy to understand errors"}),": All compile and runtime errors were updated to\n",(0,d.jsxs)(f.XJ,{name:"a",components:b,parentName:"li",props:{href:"https://twitter.com/timer150/status/1263689549898829829"},children:["only show ",(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"a",children:"relevant information, including a code frame"})," of whatever code caused the error"]}),"."]}),(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:[(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"li",children:"Development-time tips to keep component state"}),": Next.js now provides you\nwith helpful tips to ensure Fast Refresh will keep your component state in as\nmany scenarios as possible. Each tip Next.js provides is ",(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"li",children:"fully actionable"}),"\nand accompanied by a before and after example!"]}),(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:[(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"li",children:"Warnings when component state is reset"}),": We'll now print a detailed warning\nwhen Next.js is unable to keep component state after a file is edited. This\nwarning will help you diagnose why the project had to reset component\nstate, allowing you to fix it and utilize Fast Refresh to its full potential."]}),(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:[(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"li",children:"New documentation"}),": We've\n",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"li",props:{href:"https://nextjs.org/docs/basic-features/fast-refresh"},children:"added extensive documentation"}),"\nthat explains what Fast Refresh is, how it works, and what to expect! The\ndocumentation will also teach you how to better leverage Fast Refresh by\nexplaining how its error recovery works."]}),(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:[(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"li",children:"User-code troubleshooting guide"}),": The new documentation also includes\n",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"li",props:{href:"https://nextjs.org/docs/basic-features/fast-refresh#tips"},children:"common troubleshooting steps and tips"}),"\non how to get the most out of Fast Refresh in development."]})]}),(0,d.jsx)(f.XJ,{name:"h2",components:b,children:"Production React Profiling"}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["React introduced the ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/reactjs/rfcs/pull/51"},children:"Profiler API"})," a\nwhile ago which allows you to track down performance issues in your React\ncomponents. While this feature works automatically in development it requires a\nseparate version of ReactDOM to be used to profile in production."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["With Next.js 9.5, you can now ",(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"p",children:"enable production profiling for React"})," with the\n",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"--profile"})," flag in ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"next build"}),":"]}),(0,d.jsx)(f.XJ,{name:"pre",components:b,props:{className:"language-bash"},children:(0,d.jsx)(f.XJ,{name:"code",components:b,parentName:"pre",props:{className:"language-bash"},children:"next build --profile\n"})}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"After that, you can use the profiler in the same way as you would in\ndevelopment."}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["To learn more about profiling React you can read\n",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://reactjs.org/blog/2018/09/10/introducing-the-react-profiler.html"},children:"the post on the React Profiler by the React team"}),".\nSpecial thanks to ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/TodorTotev"},children:"@TodorTotev"})," and\n",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/darshkpatel"},children:"@darshkpatel"})," for contributing this feature."]}),(0,d.jsx)(f.XJ,{name:"h2",components:b,children:"Optional Catch All Routes"}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Next.js 9.2 added\n",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://nextjs.org/blog/next-9-2#catch-all-dynamic-routes"},children:"support for catch-all dynamic routes"}),"\nwhich have been widely adopted by the community for various use cases. Catch-all\nroutes give you the flexibility to create highly dynamic routing structures\npowered by Headless CMS, GraphQL APIs, filesystem, etc."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["In listening to feedback, we heard users wanted to have even more flexibility to\n",(0,d.jsx)(f.XJ,{name:"em",components:b,parentName:"p",children:"match the root-most level of a route"}),". Today, we're happy to unveil ",(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"p",children:"optional\ncatch-all dynamic routes"})," for these advanced scenarios."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["To create an optional catch-all route, you can create a page using the\n",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"[[...slug]]"})," syntax."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["For example, ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"pages/blog/[[...slug]].js"})," will match ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"/blog"}),", as well as any\nroute underneath it, such as: ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"/blog/a"}),", ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"/blog/a/b/c"}),", and so on."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Like catch-all routes, ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"slug"})," will be provided in the\n",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://nextjs.org/docs/api-reference/next/router#router-object"},children:"router query object"}),"\nas an array of path parts. So, for the path ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"/blog/foo/bar"}),", the query object\nwill be ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"{ slug: ['foo', 'bar'] }"}),". For the path ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"/blog"}),", the query object will\nomit the slug key: ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"{ }"}),"."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["You can\n",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://nextjs.org/docs/routing/dynamic-routes#optional-catch-all-routes"},children:"learn more about optional catch all routes in our documentation"}),"."]}),(0,d.jsx)(f.XJ,{name:"h2",components:b,children:"Webpack 5 Support (beta)"}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"Webpack 5 is currently in beta. It includes some major improvements:"}),(0,d.jsxs)(f.XJ,{name:"ul",components:b,children:[(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:[(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"li",props:{href:"https://github.com/webpack/changelog-v5#nested-tree-shaking"},children:"Improved Tree-Shaking"}),":\nNested exports, inner-module, and CommonJS are tree shaken"]}),(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:[(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"li",props:{href:"https://github.com/webpack/changelog-v5#persistent-caching"},children:"Persistent Caching"}),":\nAllows for reuse of work from previous builds"]}),(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:[(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"li",props:{href:"https://github.com/webpack/changelog-v5#deterministic-chunk-and-module-ids"},children:"Deterministic chunk and module ids"}),":\nsolves cases where webpack module ids would change between builds"]})]}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"We're excited today to announce the beta availability of webpack 5 for Next.js."}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["To try out webpack 5 you can use\n",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://classic.yarnpkg.com/en/docs/selective-version-resolutions/"},children:"Yarn resolutions"}),"\nin your ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"p",children:"package.json"}),":"]}),(0,d.jsx)(f.XJ,{name:"pre",components:b,props:{className:"language-json"},children:(0,d.jsxs)(f.XJ,{name:"code",components:b,parentName:"pre",props:{className:"language-json"},children:[(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n  ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token property"},children:"\"resolutions\""}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token operator"},children:":"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n    ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token property"},children:"\"webpack\""}),(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token operator"},children:":"})," ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token string"},children:"\"^5.0.0-beta.30\""}),"\n  ",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n",(0,d.jsx)(f.XJ,{name:"span",components:b,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n"]})}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["The Webpack 5 beta has already been rolled out to\n",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"http://nextjs.org"},children:"nextjs.org"})," and ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"http://vercel.com"},children:"vercel.com"})," in\nproduction. We encourage you to try it out in a progressive manner and report\nback your findings on ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/vercel/next.js/issues/13341"},children:"GitHub"}),"."]}),(0,d.jsx)(f.XJ,{name:"h3",components:b,children:"Compilation infrastructure improvements"}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"To support webpack 5 we have rewritten a lot of the compilation pipeline to be\nmore tailored to Next.js:"}),(0,d.jsxs)(f.XJ,{name:"ul",components:b,children:[(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:["Next.js no longer relies on ",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"li",children:"webpack-hot-middleware"})," and\n",(0,d.jsx)(f.XJ,{name:"inlineCode",components:b,parentName:"li",children:"webpack-dev-middleware"}),", instead we now use webpack directly and optimize\nspecifically for Next.js projects. This translates into a simpler architecture\nand faster development compilation."]}),(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:[(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"li",props:{href:"https://nextjs.org/blog/next-8#improved-on-demand-entries"},children:"On-demand-entries"}),",\nwhich is the system Next.js has to allow it to compile on the pages that you\nvisit at a given time during development, has also been rewritten and is now\neven more reliable by leveraging new webpack behavior specifically tailored\nfor our use case."]}),(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:[(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"li",props:{href:"https://nextjs.org/blog/next-9-4#fast-refresh"},children:"React Fast Refresh and the Next.js Error Overlay"}),"\nare now fully compatible with webpack 5"]}),(0,d.jsx)(f.XJ,{name:"li",components:b,parentName:"ul",children:"Disk caching will be enabled in a future beta release."})]}),(0,d.jsx)(f.XJ,{name:"h3",components:b,children:"Backwards compatibility"}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"We are always committed to ensuring that Next.js is backwards compatible with\nprevious versions."}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"Webpack 4 will continue to be fully supported. We are working closely with the\nwebpack team to ensure the migration from webpack 4 to 5 is as smooth as\npossible."}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"If your Next.js project has no custom webpack configuration, no project\nchanges will be needed to fully leverage webpack 5."}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:[(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"p",children:"Important:"})," if your project has\n",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://nextjs.org/docs/api-reference/next.config.js/custom-webpack-config"},children:"custom webpack configuration"}),",\nsome changes might be needed to transition to webpack 5. We recommend keeping an\neye out for our migration instructions or minimize your usage of webpack\nextensions altogether for seamless future upgrades."]}),(0,d.jsx)(f.XJ,{name:"h3",components:b,children:"Improved file watching on macOS"}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"We recently found an issue with webpack where file watching on macOS would stop\nafter making a few changes to your code. You'd have to restart your project\nmanually to see updates again. After a few changes, the cycle would repeat."}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"Furthermore, we found that this issue didn't just happen in Next.js projects but\nall projects and frameworks that build on top of webpack."}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"After several days of debugging the issue, we tracked down its root cause to the\nfile watching implementation that webpack uses called chokidar, which is a file\nwatching implementation widely used in the Node.js ecosystem."}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["We sent a ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/paulmillr/chokidar/pull/1018"},children:"patch to chokidar"}),"\nto fix the issue. After the patch was released we worked with\n",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/sokra"},children:"Tobias Koppers"})," to roll out this patch in a\n",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/webpack/webpack/releases/tag/v4.44.0"},children:"new webpack version"}),"."]}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"This patched webpack version is automatically used when you upgrade to Next.js\n9.5."}),(0,d.jsx)(f.XJ,{name:"h2",components:b,children:"Conclusion"}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"We're excited to see the continued growth in Next.js adoption:"}),(0,d.jsxs)(f.XJ,{name:"ul",components:b,children:[(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:["We have had over ",(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"li",children:"1,200"})," independent contributors",(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"li",children:","})," with over ",(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"li",children:"135"})," new\ncontributors since the 9.4 release."]}),(0,d.jsxs)(f.XJ,{name:"li",components:b,parentName:"ul",children:["On GitHub, the project has been starred over ",(0,d.jsx)(f.XJ,{name:"strong",components:b,parentName:"li",children:"51,100"})," times."]})]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Join the Next.js community\non\xa0",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/vercel/next.js/discussions"},children:"GitHub Discussions"}),".\nDiscussions is a community space that allows you to connect with other Next.js\nusers and freely ask questions or share your work."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["For example, you might want to start\nby\xa0",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/vercel/next.js/discussions/10640"},children:"sharing your project URL"}),"\xa0with\neveryone."]}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"If you want to give back but unsure how, we encourage you to try experimental\nfeatures like our Webpack support and report back your findings!"}),(0,d.jsx)(f.XJ,{name:"h3",components:b,children:"Credits"}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"We are thankful to our community, including all the external feedback and\ncontributions that helped shape this release."}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Special thanks to ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://github.com/janpot"},children:"Jan Potoms"}),", a long-time Next.js\ncommunity member who contributed to multiple features in this release."]}),(0,d.jsxs)(f.XJ,{name:"p",components:b,children:["Special thanks to ",(0,d.jsx)(f.XJ,{name:"a",components:b,parentName:"p",props:{href:"https://twitter.com/wsokra"},children:"Tobias Koppers"}),", the author of\nwebpack, who helped land webpack 5 support in Next.js."]}),(0,d.jsx)(f.XJ,{name:"p",components:b,children:"This release was brought to you by the contributions of: @chandan-reddy-k,\n@Timer, @aralroca, @artemisart, @sospedra, @prateekbh, @Prioe, @Janpot,\n@merceyz, @ijjk, @PavelK27, @marbiano, @MichelleLucero, @thorsten-stripe,\n@TodorTotev, @Skn0tt, @lfades, @timneutkens, @akhila-ariyachandra, @chibicode,\n@rafaelalmeidatk, @kirill-konshin, @jamesvidler, @JeffersonBledsoe, @tylev,\n@jamesmosier, @filipemarins, @Remeic, @vvo, @timothyis, @jazibsawar, @coetry,\n@adam-zacharski, @danwilliams, @tywmick, @matamatanot, @goldins, @mvllow,\n@its-tayo, @sshyam-gupta, @wilbert-abreu, @sebastianbenz, @jaydenseric,\n@developit, @dylanjha, @darshkpatel, @spinks, @stefanprobst, @moh12594,\n@jasonmerino, @cristiand391, @HyunSangHan, @mcsdevv, @M1ck0, @hydRAnger,\n@alexej-d, @valmassoi, @todortotev, @motleydev, @eKhattak, @jpedroschmitz,\n@JerryGoyal, @bowen31337, @phillip055, @balazsorban44, @chuabingquan, @youhosi,\n@andresz1, @bell-steven, @areai51, @Wssn, @ndom91, @anthonyshort, @zxzl,\n@jbowes, @IamLizu, @PascalPixel, @ralphilius, @ysun62, @muslax, @elsigh,\n@AsherFoster, @botv, @tomdohnal, @christianalfoni, @tomasztunik, @gsimone,\n@illuminist, @jplew, @OskarKaminski, @RickyAbell, @steph-query, @ericgoe,\n@MalvinJay, @cristianbote, @Ashikpaul, @jensmeindertsma, @amorriscode, @abhik-b,\n@awareness481, @LukasPolak, @arvigeus, @romMidnight, @jackyef, @drumm2k,\n@kuldeepkeshwar, @bogy0, @Belco90, @wawjr3d, @tanmaylaud, @SarKurd,\n@kevinsproles, @dstotijn, @styfle, @blackwright, @BrunoBernardino, @heyAyushh,\n@Necmttn, @TrySound, @obedparla, @NyashaNziramasanga, @tonyspiro, @kukicado,\n@ceorourke, @MehediH, @robintom, @karlhorky, and @tcK1!"})]})}}],l(b.prototype,c),e&&l(b,e),t}(e.Component);q.isMDXComponent=!0},54616:function(a){a.exports={figure:"image-figure_figure__DUggx",shadow:"image-figure_shadow___1DHG",figcaption:"image-figure_figcaption__LVySW"}}},function(a){a.O(0,[7582,6337,8579,5938,8632,8028,642,5315,4945,9703,2682,9468,9774,2888,179],function(){return a(a.s=22843)}),_N_E=a.O()}])